<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<link rel="stylesheet" href="/src/styles.css" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Tauri App</title>
		<script type="module" src="/src/main.ts" defer></script>
	</head>

	<body>
		<h1>LkGIF</h1>
		<div class="container-nofile">
			<p>Upload, paste, or drag and drop a file here:</p>
			<div class="dropzone">
				<input
					type="file"
					id="ImageInput"
					accept="image/*"
					style="top: 40%; left: 20px; position: relative"
				/>
			</div>

			<p>Or enter direct URL:</p>
			<input class="linkzone" placeholder="https://" />

			<br />
			<br />

			<div id="CropContainer" style="position: relative">
				<img id="PreviewImage" draggable="false" />
				<div
					id="CropSelection"
					style="
						position: absolute;
						border: 2px dashed black;
						pointer-events: none;
						display: none;
					"
				></div>
				<svg id="RectMask" style="display: none">
					<!-- Define mask -->
					<mask id="invertedMask">
						<!-- Fill entire area white to make everything visible -->
						<rect width="100%" height="100%" fill="white" />
						<!-- The area you want to "cut out" is black -->
						<rect
							x="0"
							y="0"
							width="0"
							height="0"
							fill="black"
							id="CropMask"
						/>
					</mask>
					<!-- Image or shape with the mask applied -->
					<rect
						width="100%"
						height="100%"
						fill="#0005"
						mask="url(#invertedMask)"
					/>
				</svg>
			</div>
			<button id="Process">Crop Image</button>
			<button id="ToGif">To Gif</button>
			<canvas style="display: none" id="Canvas"></canvas>
			<br />
			<a href="" draggable="true" id="ImageLink" download="">
				<img id="OutputImage" />
			</a>
		</div>
	</body>
</html>
